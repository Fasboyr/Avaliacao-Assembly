.data
vetor: .word 0:400   # Vetor para armazenar os quadrados perfeitos
n:     .word 10      # Valor de n
quebrar_linha: .asciiz "\n"

.text
.globl main

main:
    # Carrega o valor de n em $t0
    lw $t0, n


    # Inicializa os registradores
    li $t1, 0             # Inicializa contador
    la $t2, vetor         # Endereço inicial do vetor

    loop:
        # Calcula o quadrado perfeito e armazena no vetor
        mul $t3, $t1, $t1
        sw $t3, ($t2)

        # Incrementa o contador e avança para o próximo elemento do vetor
        addi $t1, $t1, 1
        addi $t2, $t2, 4

        # Verifica se o contador atingiu o valor de n
        ble $t1, $t0, loop

    # Imprime a saída no terminal

    la $t2, vetor         # Endereço inicial do vetor
    li $t1, 1             # Inicializa contador

    loop_print:
    	li $v0, 1             # Código do sistema para imprimir inteiro
        lw $a0, ($t2)          # Carrega o valor do vetor
        move $a1, $t1          # Carrega o número atual para imprimir
        syscall
        
        la $a0, quebrar_linha # carrega o endereço de quebrar_linha no registrador a0
	li $v0, 4 # carrega 4 no registrador v0 pra usar a syscall de printar string
	syscall

        addi $t1, $t1, 1       # Incrementa o contador
        addi $t2, $t2, 4       # Avança para o próximo elemento do vetor

        ble $t1, $t0, loop_print  # Repete o loop até alcançar n

    # Termina a execução do programa
    li $v0, 10            # Código do sistema para finalizar programa
    syscall

